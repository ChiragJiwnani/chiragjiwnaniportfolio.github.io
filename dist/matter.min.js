"use strict";!function(p){var l,a,v={x:0,y:0,px:0,py:0,down:!1},h=500,w=500,y=10,d=40,x=h/y,c=w/y,f=[],g=[];function m(){var e,t,o,r=v.x-v.px,n=v.y-v.py;for(i=0;i<f.length;i++){var s=f[i];for(j=0;j<s.length;j++){var u=s[j];v.down&&_(u,r,n,d),void 0,t=.5*(e=u).up_left.xv+e.left.xv+.5*e.down_left.xv-.5*e.up_right.xv-e.right.xv-.5*e.down_right.xv,o=.5*e.up_left.yv+e.up.yv+.5*e.up_right.yv-.5*e.down_left.yv-e.down.yv-.5*e.down_right.yv,e.pressure=.25*(t+o)}}for(a.clearRect(0,0,l.width,l.height),a.strokeStyle="#00FFFF",function(){for(i=0;i<g.length;i++){var e=g[i];if(0<=e.x&&e.x<h&&0<=e.y&&e.y<w){var t=parseInt(e.x/y),o=parseInt(e.y/y),r=f[t][o],n=e.x%y/y,s=e.y%y/y;e.xv+=(1-n)*r.xv*.05,e.yv+=(1-s)*r.yv*.05,e.xv+=n*r.right.xv*.05,e.yv+=n*r.right.yv*.05,e.xv+=s*r.down.xv*.05,e.yv+=s*r.down.yv*.05,e.x+=e.xv,e.y+=e.yv;var u=e.px-e.x,v=e.py-e.y,p=Math.sqrt(u*u+v*v),l=.5*Math.random();l<p?(a.lineWidth=1,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(e.px,e.py)):(a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(e.x+l,e.y+l)),a.stroke(),e.px=e.x,e.py=e.y}else e.x=e.px=Math.random()*h,e.y=e.py=Math.random()*w,e.xv=0,e.yv=0;e.xv*=.5,e.yv*=.5}}(),i=0;i<f.length;i++){s=f[i];for(j=0;j<s.length;j++){F(u=s[j])}}v.px=v.x,v.py=v.y,requestAnimationFrame(m)}function _(e,t,o,r){var n=e.x-v.x,i=e.y-v.y,s=Math.sqrt(i*i+n*n);if(s<r){s<4&&(s=r);var u=r/s;e.xv+=t*u,e.yv+=o*u}}function F(e){e.xv+=.25*(.5*e.up_left.pressure+e.left.pressure+.5*e.down_left.pressure-.5*e.up_right.pressure-e.right.pressure-.5*e.down_right.pressure),e.yv+=.25*(.5*e.up_left.pressure+e.up.pressure+.5*e.up_right.pressure-.5*e.down_left.pressure-e.down.pressure-.5*e.down_right.pressure),e.xv*=.99,e.yv*=.99}function q(e,t,o){this.x=e,this.y=t,this.r=o,this.col=0,this.row=0,this.xv=0,this.yv=0,this.pressure=0}function E(e,t){this.x=this.px=e,this.y=this.py=t,this.xv=this.yv=0}function M(e){e.preventDefault(),v.down=!0}function L(){v.down=!1}function A(e){e.preventDefault();var t=l.getBoundingClientRect();v.x=v.px=e.touches[0].pageX-t.left,v.y=v.py=e.touches[0].pageY-t.top,v.down=!0}function R(e){e.touches||(v.down=!1)}function D(e){e.preventDefault(),v.px=v.x,v.py=v.y,v.x=e.offsetX||e.layerX,v.y=e.offsetY||e.layerY}function T(e){e.preventDefault(),v.px=v.x,v.py=v.y;var t=l.getBoundingClientRect();v.x=e.touches[0].pageX-t.left,v.y=e.touches[0].pageY-t.top}p.Fluid={initialize:function(){for(l=document.getElementById("wrapper-canvas"),a=l.getContext("2d"),l.width=h,l.height=w,i=0;i<5e3;i++)g.push(new E(Math.random()*h,Math.random()*w));for(col=0;col<x;col++)for(f[col]=[],row=0;row<c;row++){var e=new q(col*y,row*y,y);f[col][row]=e,f[col][row].col=col,f[col][row].row=row}for(col=0;col<x;col++)for(row=0;row<c;row++){e=f[col][row];var t=0<=row-1?row-1:c-1,o=0<=col-1?col-1:x-1,r=col+1<x?col+1:0,n=f[col][t],s=f[o][row],u=f[o][t],v=f[r][t];e.up=n,e.left=s,e.up_left=u,e.up_right=v,n.down=f[col][row],s.right=f[col][row],u.down_right=f[col][row],v.down_left=f[col][row]}p.addEventListener("mousedown",M),p.addEventListener("touchstart",A),p.addEventListener("mouseup",L),p.addEventListener("touchend",R),l.addEventListener("mousemove",D),l.addEventListener("touchmove",T),p.onload=m}}}(window),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,Fluid.initialize();
//# sourceMappingURL=matter.min.js.map
